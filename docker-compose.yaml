services:
  frontend:
    container_name: jobber-webapp
    build:
      context: .
      dockerfile: Dockerfile.webapp
    restart: always
    ports:
      - 4001:80
    environment:
      VITE_AUTH0_CLIENT_ID_WEB: ${VITE_AUTH0_CLIENT_ID_WEB}
      VITE_AUTH0_DOMAIN: ${VITE_AUTH0_DOMAIN}

  server:
    container_name: jobber-server
    build:
      context: .
      dockerfile: Dockerfile.server
    restart: always
    ports:
      - 3000:3000
    environment:
      DATABASE_URL: ${DATABASE_URL}
      CORS_WHITELIST: ${CORS_WHITELIST}
